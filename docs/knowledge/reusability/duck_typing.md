（草稿）

# ダックタイピング
- いかなる特定の型にも関連付けされないパブリックインターフェイス
- 動的型付け言語のみで実現できる
- ダックタイピングはアプリケーションの柔軟性と変更しやすさを高めるためにある
- case文によるクラスの切り替えは爆発的に依存を増やす
    - 特定のクラスに依存し、具体的なメソッド名にも依存している
    - 具象クラスとメソッドを知りすぎている
    - 具象は抽象より変わりやすく、不安定
- 新たな分岐が他のプログラマによって追加されてしまい、依存をさらに増やす
- ダックの見つけ方
    - 単一の目的を果たすためのメソッドがあるとき、そこに渡される引数もまた単一の目的のためにある
    - 目的を抽出し、それを果たす主体として引数を捉え、その目的を果たすための振る舞いを抜き出す
        - パブリックインターフェイスはメソッドが「何を」望んでいるのか、に着目する。
        - 「何を」を提供する振る舞い（何かを準備する、組み立てる、など）をそれぞれのクラスで実装する
    - ダックのシグナル
        - クラスで分岐するcase文
            - アプリケーションが持つドメインオブジェクトのクラス名に基づいて分岐する
        - kind_of?やis_a?
            - クラス名の確認方法の一つ。switch文を書き換えられる
        - responds_to?
- 具象性はコードを理解しやすくしてくれるが、拡張には危険が伴う（破壊されるリスクがある）
- 抽象性はコード理解力が必要だが、拡張が容易
- 重要なのはインターフェイスであり、インターフェイスを実装するオブジェクトではない
- Rubyのコアクラスの分岐では、ダックタイピングではなくkind_ofなどを使ったほうがよい
    - Rubyのコアクラスへの依存は変更がほぼ無いといえ、安全だから
    - コストを見る
- 動的型付け言語を恐れるプログラマは型を確認しがちだが、それは動的型付けの力を削ぐもの
    - 動的型付け言語に慣れたひとには、型宣言は気を散らす存在
    - 静的型付き言語に慣れたひとには、型宣言がないと混乱する
