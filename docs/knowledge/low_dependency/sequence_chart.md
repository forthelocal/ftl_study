（草稿）

# シーケンス図を使ったドメインオブジェクトの見つけ方
- シーケンス図は思考を明確にし、ほかの人と共同作業したり意思疎通したりするための手段になる
- あくまで思考を整理するために使う。メンテナンスはしない。
    - 目的を果たしたら消す
- シーケンス図にメッセージのやり取りを記述していく
    - 「この受け手は、このメッセージに応える責任を負うべきなのだろうか？」を考えていく
- シーケンス図でメッセージを中心に考えていくと、「オブジェクトを見つけること」と「オブジェクトのパブリックインターフェイス」を見つけやすい
    - オブジェクトはパブリックインターフェイスによって応えるべきであるため
    - ドメインオブジェクトに拘りすぎるとオブジェクトに無理な振る舞いをさせてしまう傾向があるため
- シーケンス図によって議論はメッセージを中心に回っていく
- 「クラスに基づく設計」から「メッセージに基づく設計」へ
    - 「クラスを決め、その責任を見つけ出す」から「メッセージを決め、それをどこに送るか決める」へ
    - 「このクラスが必要なのは知っているけど、これはなにをすべきなのだろう？」から「このメッセージを送る必要があるけれど、だれが応答すべきなのだろう？」という問いへ
    - 「メッセージを送るためにオブジェクトが存在している」という考え方に転換していく
- オブジェクトは「何を」望むかのみを知っているべきで、「どのように」望みが叶えられるかは知っていてはいけない
    - レストランのお客には「食べたいものを注文する」だけで、厨房の誰がどの食材と調理器具を使ってどのように調理するかという「具体的に指示する」必要はない
- 「送り手の望みを頼む」メッセージと、受け手に「どのように振る舞うか」を伝えるメッセージには大きな違いがある
- 「どのように」を知っておくのは「何を」の責任をもっているオブジェクト
    - 望みを実現するための「どのように」の支持を逐一送るのではなく、「何を」の一つの支持にまとまる
- オブジェクトが他のオブジェクトについて知っていることによって「コンテキスト」は作られる
    - 単一の責任を「持つ」がコンテキストを「求められる」
    - コンテキストによって、「複雑なセットアップ」を求められる
    - 「相手が誰かも、何をするかも知らずにほかのオブジェクトと共同作業できるオブジェクト」は再利用性が高い（まったく予期していなかった方法やケースでも！）
- selfを渡すコールバック関数は「相手を知りすぎていない」
    - コールバック関数の引数に渡したselfが「望むこと」を行うだけ
    - コールバック関数の受け手（呼び出されたオブジェクト）は、その後何を行うのか、知る必要はない
    - 持たされるコンテキストが大きいとき、この手法は有効的
- まだ存在しないオブジェクトが必要であると認識するための方法
    - 「複数のオブジェクトが存在」しており「何を望むか伝える」必要があることが明確だが、オブジェクトとの間に「ルールが必要」なとき新しいオブジェクトが必要であり、その新しいオブジェクトのパブリックインターフェイスはその「何を望むか伝える」を含む
    - 複雑で変わりやすい内部実装を隠匿している
- 持ちすぎている責任の移譲
- 「Howを伝える」ことを知っている必要はなく「Whatを伝えること」だけを知っていればいい
